---
const current = Astro.url.pathname;
const links = [
  { href: '/', label: 'Inicio' },
  { href: '/productos', label: 'Productos' },
  { href: '/galeria', label: 'Galería' },
  { href: '/equipo', label: 'Equipo' },
  { href: '/comparativa', label: 'Comparativa' },
  { href: '/contacto', label: 'Contacto' },
];
const isActive = (href: string) => current === href;
---

<nav class="sticky top-0 z-50 shadow-xl bg-gradient-to-r from-primary-dark/95 to-primary/95 backdrop-blur">
  <div class="max-w-7xl mx-auto px-4 md:px-8 py-4">
    <div class="flex items-center justify-between">
      <!-- Logo -->
      <a href="/" class="flex items-center gap-3 font-serif text-2xl md:text-3xl font-bold text-white drop-shadow-lg">
        <span class="text-4xl animate-bounce-slow">☕</span>
        <span>Cafetería Aroma</span>
      </a>

      <!-- Desktop nav -->
      <div class="hidden md:flex items-center gap-2 lg:gap-4">
        {links.map((l) => (
          <a
            href={l.href}
            aria-current={isActive(l.href) ? 'page' : undefined}
            class={`no-underline text-white font-semibold text-sm lg:text-base px-4 py-2 rounded-xl transition-all duration-300 tracking-wide relative group hover:-translate-y-0.5
              ${isActive(l.href) ? 'bg-white/10 ring-1 ring-white/20 shadow-inner' : 'hover:bg-white/10'}
            `}
          >
            {l.label}
            <span class="pointer-events-none absolute -bottom-1 left-1/2 -translate-x-1/2 w-0 h-1 bg-gradient-to-r from-secondary to-secondary-light transition-all duration-300 rounded-sm group-hover:w-4/5"></span>
          </a>
        ))}

        
      </div>

      <!-- Mobile toggle -->
      <details class="md:hidden group relative">
        <summary class="list-none p-2 -m-2 rounded-lg cursor-pointer text-white hover:bg-white/10 transition flex items-center" aria-label="Abrir menú">
          <svg class="w-7 h-7" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </summary>
        <div class="absolute right-0 mt-3 w-[88vw] max-w-sm bg-white/95 text-primary-dark rounded-2xl shadow-2xl ring-1 ring-black/5 overflow-hidden animate-fadeIn">
          <div class="p-3 divide-y divide-cream">
            <div class="py-2 flex flex-col">
              {links.map((l) => (
                <a
                  href={l.href}
                  aria-current={isActive(l.href) ? 'page' : undefined}
                  class={`px-4 py-3 rounded-xl no-underline font-semibold text-base hover:bg-cream-light transition ${isActive(l.href) ? 'bg-cream-light' : ''}`}
                >
                  {l.label}
                </a>
              ))}
            </div>
            
          </div>
        </div>
      </details>
    </div>
  </div>
</nav>
